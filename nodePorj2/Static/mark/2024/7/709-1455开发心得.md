# 709-1455 开发心得

归纳一下最近开发流程经验，最近踩了很多坑，适用于tsx的。

### 1.数据

前端开发，数据准确很重要；但是有时候后端也不能确认数据是怎么样的，后期可能有改动，这个时候怎么办？

- 做好缓存数据，在tsx函数运行时，就用redux做好类似字典数据的缓存
- 父组件数据池
  把总的数据放到父组件里，这样好分发到子组件里，避免子组件重复使用
- 数据更新监听器
  虽然也可以直接派发更新函数，但似乎不太优雅，使用子组件更新监听更新器会更好。
  设置数据监听器，比如是一个自增函数，当需要更新某个数据的时候，子组件调用这个自增函数，然后自增后调用对应请求函数更新数据。

### 2.输入

自己的项目倒还好，但是业务对输入可能会对长度，输入内容，输入类型有要求，要预先想好检测的问题，不论是简单的input亦或是form表单，都是如此。

### 3.复用

尽量写一些纯函数，提高代码的健壮性。

### 4.公用组件

这个项目有一个Amodal的弹框组件，index里维护了大量的公共弹框，使用一个公共的handle方法就可以操控了，前期非常好用。

但是到后面，这个index里维护的modal非常多，导致注册新弹框和维护老弹框异常困难，而且传值不灵活。

所以在用公共组件的时候先思考，这个东西到底是模块的，还是公共的！